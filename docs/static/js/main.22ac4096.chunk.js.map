{"version":3,"sources":["PostPreview.js","PostPreviewDisplayer.js","MarkdownParser.js","Comment.js","CommentContainer.js","Post.js","DummyPost.js","SubChooser.js","FirstTime.js","App.js","index.js"],"names":["PostPreview","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","selected","toggleSelected","bind","assertThisInitialized","_ref","setState","onSelect","post","react_default","a","createElement","onClick","className","data","subreddit","title","substr","length","React","Component","PostPreviewDisplayer","expanded","posts","toggle","handlePostSelection","getPosts","window","addEventListener","e","document","getElementById","contains","target","sub","onOpen","onPostSelect","selectedPost","forceUpdate","_this2","fetch","url","concat","mode","then","res","json","error","children","catch","_this3","id","src","alt","style","height","border","map","i","PostPreview_PostPreview","key","MarkdownParser","whiteSpace","dangerouslySetInnerHTML","__html","parse","text","replace","Comment","score","body","break","author","CommentContainer","collapsed","comment","Comment_Comment","replies","c","depth","Post","comments","controller","AbortController","getComments","Array","isArray","signal","abort","dataType","post_hint","valid","subreddit_name_prefixed","width","selftext","rel","href","index","CommentContainer_CommentContainer","DummyPost","SubChooser","handleChange","onSubChange","value","defineProperty","onChange","placeholder","FirstTime","shown","localStorage","getItem","collapse","neverShowAgain","setItem","p","show","App","neverUsed","selectPost","handleSubUpdate","handlePreviewOpen","setTimeout","newName","FirstTime_FirstTime","SubChooser_SubChooser","PostPreviewDisplayer_PostPreviewDisplayer","Post_Post","src_DummyPost","urlParams","URLSearchParams","location","search","postId","get","ReactDOM","render","App_App"],"mappings":"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","file":"static/js/main.22ac4096.chunk.js","sourcesContent":["import React from 'react'\r\nimport \"./PostPreview.css\"\r\n\r\nexport default class PostPreview extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {selected: this.props.selected}\r\n        this.toggleSelected = this.toggleSelected.bind(this)\r\n    }\r\n\r\n    componentWillReceiveProps({selected}) {\r\n        this.setState({selected})\r\n    }\r\n\r\n    toggleSelected() {\r\n        if (this.state.selected) {\r\n            this.setState({selected: false})\r\n            this.props.onSelect(false)\r\n        } else {\r\n            this.setState({selected: true})\r\n            this.props.onSelect(this.props.post)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return <button onClick={this.toggleSelected} className={this.state.selected ? \"preview selected\" : \"preview normal\"}>r/{this.props.post.data.subreddit} - {this.props.post.data.title.substr(0, 70)}{(this.props.post.data.title.length > 70 && \"...\")}</button>\r\n    }\r\n}","import React from 'react'\r\nimport PostPreview from './PostPreview.js'\r\nimport \"./PostPreviewDisplayer.css\"\r\n\r\nexport default class PostPreviewDisplayer extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {expanded: false, posts: []}\r\n        this.toggle = this.toggle.bind(this)\r\n        this.handlePostSelection = this.handlePostSelection.bind(this)\r\n        this.getPosts = this.getPosts.bind(this)\r\n        window.addEventListener(\"click\", (e) => {\r\n            if ((document.getElementById(\"postDisplayer\").contains(e.target) || document.getElementById(\"logo\").contains(e.target))&& !this.state.expanded) {\r\n                this.toggle()\r\n            } else if (!document.getElementById(\"postDisplayer\").contains(e.target) && this.state.expanded) {\r\n                this.toggle()\r\n            }\r\n        })\r\n    }\r\n\r\n    toggle() {\r\n        if (!this.state.expanded) {\r\n            this.getPosts(this.props.sub)\r\n        }\r\n        this.setState({expanded: !this.state.expanded})\r\n        this.props.onOpen()\r\n    }\r\n\r\n    handlePostSelection(post) {\r\n        this.props.onPostSelect(post)\r\n        this.setState({selectedPost: post})\r\n        this.forceUpdate()\r\n    }\r\n\r\n    getPosts(sub) {\r\n        this.setState({posts: []})\r\n        fetch(this.props.url + `/r/${sub}.json`, {\r\n            mode: \"cors\",\r\n        }).then(res => {\r\n            res.json().then(res => {\r\n                if (!res.error) {\r\n                    this.setState({posts: res.data.children})\r\n                }\r\n            }).catch(e => {})\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n        <div>\r\n            <button id=\"logo\" ><img src=\"logo.png\" alt=\"\"/></button>\r\n            <div id=\"postDisplayer\" style={{height: this.state.expanded ? 200 : 0, border: !this.state.expanded && \"none\"}}>\r\n            {this.state.expanded && this.state.posts.map((post, i) => <PostPreview key={i} post={post} onSelect={this.handlePostSelection} selected={(post === this.state.selectedPost)}/>)}\r\n        </div></div>)\r\n    }\r\n}","import React from 'react'\r\n\r\nexport default function MarkdownParser(props) {\r\n    return <span style={{whiteSpace: \"pre-wrap\"}} dangerouslySetInnerHTML={{__html: parse(props.children)}} />\r\n}\r\n\r\nfunction parse(text) { // I learned regexes a few days ago, don't be hard on me.\r\n    text = text.replace(/(\\*|-) (.*)/g, \"- $2\")\r\n    text = text.replace(/\\s___(.*)(___)(\\s|\\.)/g, \" <b><i>$1</i></b> \")\r\n    text = text.replace(/\\s\\*\\*\\*(.*)(\\*\\*\\*)(\\s|\\.)/g, \" <b><i>$1</i></b> \")\r\n    text = text.replace(/\\s__(.*)__(\\s|\\.)/g, \" <b>$1</b> \")\r\n    text = text.replace(/\\s\\*\\*(.*)\\*\\*(\\s|\\.)/g, \" <b>$1</b> \")\r\n    text = text.replace(/\\s_(.*)_(\\s|\\.)/g, \" <i>$1</i> \")\r\n    text = text.replace(/\\s\\*(.*)\\*(\\s|\\.)/g, \" <i>$1</i> \")\r\n    text = text.replace(/~~(.*)~~/g, \" <span style='text-decoration: line-through'>$1</span> \")\r\n    text = text.replace(/\\[(.*)\\]\\((.*)\\)/g, \"<a href='$2'>$1</a>\")\r\n    text = text.replace(/\\n##(.*)\\n/g, \"\\n<h4>$1</h4>\")\r\n    text = text.replace(/\\n#(.*)\\n/g, \"\\n<h3>$1</h3>\")\r\n    text = text.replace(/\\n---\\n/g, \"\")\r\n\r\n    text = text.replace(/\\\\\\*/g, \"*\")\r\n    text = text.replace(/\\\\_/g, \"_\")\r\n\r\n    return text\r\n}","import React from 'react'\r\nimport \"./Comment.css\"\r\nimport MarkdownParser from \"./MarkdownParser.js\"\r\n\r\nexport default class Comment extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {}\r\n    }\r\n    render() {\r\n        if (this.props.children.data.score) {\r\n            let body = this.props.children.data.body\r\n            if (this.props.break) {\r\n                if (body.length > 50) {\r\n                    body = body.substr(0, 50) + \"...\"\r\n                }\r\n                return <p className=\"comment\">{body}</p>\r\n            }\r\n        return <p className=\"comment\"><span className=\"score\">{this.props.children.data.score}</span> - <span className=\"author\">{this.props.children.data.author}</span> - <MarkdownParser>{body}</MarkdownParser></p>\r\n        }\r\n        return null\r\n    }\r\n}","import React from 'react'\r\nimport Comment from \"./Comment.js\"\r\nimport \"./CommentContainer.css\"\r\n\r\nexport default class CommentContainer extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {collapsed: false}\r\n        this.toggle = this.toggle.bind(this)\r\n    }\r\n    \r\n    toggle() {\r\n        this.setState({collapsed: !this.state.collapsed})\r\n    }\r\n\r\n    render() {\r\n        if (this.props.comment.data.body) {\r\n            return (\r\n                <div className={this.state.collapsed ? \"commentContainer min\" : \"commentContainer\"}>\r\n                    <div className={this.state.collapsed ? \"bullet small\" : \"bullet\"}><div onClick={this.toggle} className=\"easyClick\"/></div>\r\n                    <Comment break={this.state.collapsed}>{this.props.comment}</Comment>\r\n                    {(this.props.comment.data.replies && !this.state.collapsed) && this.props.comment.data.replies.data.children.map((c, i) => (\r\n                        <CommentContainer comment={c} key={i} depth={this.props.depth + 1}/>\r\n                    ))}\r\n                </div>\r\n            )\r\n        }\r\n        return null\r\n    }\r\n}","import React from 'react'\r\nimport CommentContainer from \"./CommentContainer.js\"\r\nimport \"./Post.css\"\r\nimport MarkdownParser from './MarkdownParser.js';\r\n\r\nexport default class Post extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {comments: null, controller: new AbortController(), post: this.props.post}\r\n        this.getComments = this.getComments.bind(this)\r\n        if (Array.isArray(this.props.children)) { // if yes, then we already have comments\r\n            this.state.post = this.props.children[0].data.children[0]\r\n            this.state.comments = this.props.children[1]\r\n        } else {\r\n            this.state.post = this.props.children\r\n            this.getComments()\r\n        }\r\n    }\r\n\r\n    getComments() {\r\n        const signal = this.state.controller.signal\r\n        fetch(this.props.url + \"/comments/\" + this.props.children.data.id + \".json?sort=top?limit=100\", {\r\n            mode: \"cors\",\r\n            signal\r\n        },).then(res => {\r\n            res.json().then(res => {\r\n                this.setState({comments: res[1]})\r\n            })\r\n        }).catch(e => {})\r\n    }\r\n    componentWillUnmount() {\r\n        this.state.controller.abort()\r\n    }\r\n    render() {\r\n\r\n        if (this.state.post === \"dummy\") {\r\n            return <div className=\"dummy post\"></div>\r\n        }\r\n\r\n        const dataType = this.state.post.data.post_hint\r\n        const valid = dataType === \"image\" || dataType === \"self\" || dataType === \"link\" || !dataType\r\n\r\n        return (<div className=\"post\">\r\n            <h3><MarkdownParser>{this.state.post.data.title}</MarkdownParser></h3>\r\n            <h4 className=\"subtitle\">{this.state.post.data.subreddit_name_prefixed} - u/{this.state.post.data.author}</h4>\r\n            {dataType === \"image\" && <img src={this.state.post.data.url} width=\"400px\" alt=\"\"/>}\r\n            {(dataType === \"self\" || !dataType) && <p>{<MarkdownParser>{this.state.post.data.selftext}</MarkdownParser>}</p>}\r\n            {dataType === \"link\" && <a target=\"_blank\" rel=\"noopener noreferrer\" href={this.state.post.data.url}>{this.state.post.data.title}</a>}\r\n            {!valid && <p>The format \"{dataType}\" cannot be displayed right now.</p>}\r\n            {this.state.comments && this.state.comments.data.children.map((comment, index) => (<CommentContainer comment={comment} key={index} depth={0} />))}\r\n        </div>)\r\n    }\r\n}","import React from 'react'\r\n\r\nconst DummyPost = () => {\r\n    return (<div className=\"post\" />)\r\n}\r\n\r\nexport default DummyPost","import React from 'react'\r\nimport \"./SubChooser.css\"\r\n\r\nexport default class SubChooser extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {text: \"\"}\r\n        this.handleChange = this.handleChange.bind(this)\r\n    }\r\n    handleChange(e) {\r\n        this.props.onSubChange(e.target.value)\r\n        this.setState({[e.target.id]: e.target.value})\r\n    }\r\n    render() {\r\n        return (<div id=\"subChooser\">\r\n            <input onChange={this.handleChange} id=\"text\" value={this.state.text} placeholder=\"Untitled document\"></input>\r\n        </div>)\r\n    }\r\n}","import React from 'react'\r\nimport \"./FirstTime.css\"\r\n\r\nexport default class FirstTime extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {shown: !window.localStorage.getItem(\"neverShowAgain\")}\r\n        this.collapse = this.collapse.bind(this)\r\n        this.neverShowAgain = this.neverShowAgain.bind(this)\r\n    }\r\n\r\n    collapse() {\r\n        this.setState({shown: false})\r\n    }\r\n\r\n    neverShowAgain() {\r\n        window.localStorage.setItem(\"neverShowAgain\", true)\r\n        this.setState({shown: false})\r\n    }\r\n\r\n    componentWillReceiveProps(p) {\r\n        if (p.show === false) {\r\n            this.setState({shown: false})\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (this.state.shown) {\r\n            return (<div id=\"firstTimeMessage\">\r\n                <h3>First Time?</h3>\r\n                <p>Click the docs logo to open the post list. In the document naming input box, type the name of a sub, and it will be loaded when you close and reopen the post list.<br /><button onClick={this.collapse}>Close</button><button onClick={this.neverShowAgain}>Never Show Again</button></p>\r\n            </div>)\r\n        }\r\n        return null\r\n    }\r\n}","import React from 'react'\nimport PostPreviewDisplayer from \"./PostPreviewDisplayer.js\"\nimport Post from \"./Post.js\"\nimport DummyPost from \"./DummyPost.js\"\nimport SubChooser from './SubChooser.js';\nimport FirstTime from \"./FirstTime.js\"\nimport \"./App.css\"\n\nexport default class App extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            posts: [],\n            sub: \"all\",\n            neverUsed: true\n        }\n        if (this.props.post) {\n            fetch(this.props.url + \"/comments/\" + this.props.post + \".json?sort=top\", {\n            mode: \"cors\",\n            }).then(res => {\n                res.json().then(res => {\n                    this.setState({post: res, neverUsed: false})\n                })\n            })\n        }\n        if (this.props.sub) {\n            this.state.sub = this.props.sub\n        }\n\n        this.selectPost = this.selectPost.bind(this)\n        this.handleSubUpdate = this.handleSubUpdate.bind(this)\n        this.handlePreviewOpen = this.handlePreviewOpen.bind(this)\n    }\n\n    selectPost(post) {\n        this.setState({post: false, neverUsed: false})\n        setTimeout(() => {\n            this.setState({post})\n        }, 100)\n    }\n\n    handleSubUpdate(newName) {\n        this.setState({neverUsed: false})\n        if (newName !== \"\") {\n            this.setState({sub: newName})\n        } else {\n            this.setState({sub: \"all\"})\n        }\n    }\n\n    handlePreviewOpen() {\n        this.setState({neverUsed: false})\n    }\n\n    render() {\n        return (<div id=\"main\">\n            <FirstTime show={this.state.neverUsed}/>\n            <SubChooser onSubChange={this.handleSubUpdate} url={this.props.url}/>\n            <div id=\"post-list\"><PostPreviewDisplayer onPostSelect={this.selectPost} selectedPost={this.state.post} sub={this.state.sub} onOpen={this.handlePreviewOpen} url={this.props.url}/></div>\n            <div id=\"post-container\">{this.state.post ? <Post url={this.props.url}>{this.state.post}</Post> : <DummyPost />}</div>\n        </div>)\n    }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nconst urlParams = new URLSearchParams(window.location.search);\nconst postId = urlParams.get('post');\nconst sub = urlParams.get('sub')\nconst url = urlParams.get('proxy')\n\nif (postId) {\n    ReactDOM.render(<App post={postId} url={url}/>, document.getElementById('root'));\n} else if (sub) {\n    ReactDOM.render(<App sub={sub} url={url}/>, document.getElementById(\"root\"))\n}\nelse {\n    ReactDOM.render(<App url={url}/>, document.getElementById('root'));\n}"],"sourceRoot":""}