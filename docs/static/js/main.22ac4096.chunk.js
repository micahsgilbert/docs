(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,function(e,t,n){e.exports=n(25)},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),o=n(7),r=n.n(o),l=(n(16),n(2)),c=n(3),i=n(5),p=n(4),h=n(1),u=n(6),d=(n(17),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(i.a)(this,Object(p.a)(t).call(this,e))).state={selected:n.props.selected},n.toggleSelected=n.toggleSelected.bind(Object(h.a)(n)),n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.selected;this.setState({selected:t})}},{key:"toggleSelected",value:function(){this.state.selected?(this.setState({selected:!1}),this.props.onSelect(!1)):(this.setState({selected:!0}),this.props.onSelect(this.props.post))}},{key:"render",value:function(){return s.a.createElement("button",{onClick:this.toggleSelected,className:this.state.selected?"preview selected":"preview normal"},"r/",this.props.post.data.subreddit," - ",this.props.post.data.title.substr(0,70),this.props.post.data.title.length>70&&"...")}}]),t}(s.a.Component)),m=(n(18),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(i.a)(this,Object(p.a)(t).call(this,e))).state={expanded:!1,posts:[]},n.toggle=n.toggle.bind(Object(h.a)(n)),n.handlePostSelection=n.handlePostSelection.bind(Object(h.a)(n)),n.getPosts=n.getPosts.bind(Object(h.a)(n)),window.addEventListener("click",function(e){!document.getElementById("postDisplayer").contains(e.target)&&!document.getElementById("logo").contains(e.target)||n.state.expanded?!document.getElementById("postDisplayer").contains(e.target)&&n.state.expanded&&n.toggle():n.toggle()}),n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"toggle",value:function(){this.state.expanded||this.getPosts(this.props.sub),this.setState({expanded:!this.state.expanded}),this.props.onOpen()}},{key:"handlePostSelection",value:function(e){this.props.onPostSelect(e),this.setState({selectedPost:e}),this.forceUpdate()}},{key:"getPosts",value:function(e){var t=this;this.setState({posts:[]}),fetch(this.props.url+"/r/".concat(e,".json"),{mode:"cors"}).then(function(e){e.json().then(function(e){e.error||t.setState({posts:e.data.children})}).catch(function(e){})})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("button",{id:"logo"},s.a.createElement("img",{src:"logo.png",alt:""})),s.a.createElement("div",{id:"postDisplayer",style:{height:this.state.expanded?200:0,border:!this.state.expanded&&"none"}},this.state.expanded&&this.state.posts.map(function(t,n){return s.a.createElement(d,{key:n,post:t,onSelect:e.handlePostSelection,selected:t===e.state.selectedPost})})))}}]),t}(s.a.Component));n(19);function b(e){return s.a.createElement("span",{style:{whiteSpace:"pre-wrap"},dangerouslySetInnerHTML:{__html:g(e.children)}})}function g(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/(\*|-) (.*)/g,"- $2")).replace(/\s___(.*)(___)(\s|\.)/g," <b><i>$1</i></b> ")).replace(/\s\*\*\*(.*)(\*\*\*)(\s|\.)/g," <b><i>$1</i></b> ")).replace(/\s__(.*)__(\s|\.)/g," <b>$1</b> ")).replace(/\s\*\*(.*)\*\*(\s|\.)/g," <b>$1</b> ")).replace(/\s_(.*)_(\s|\.)/g," <i>$1</i> ")).replace(/\s\*(.*)\*(\s|\.)/g," <i>$1</i> ")).replace(/~~(.*)~~/g," <span style='text-decoration: line-through'>$1</span> ")).replace(/\[(.*)\]\((.*)\)/g,"<a href='$2'>$1</a>")).replace(/\n##(.*)\n/g,"\n<h4>$1</h4>")).replace(/\n#(.*)\n/g,"\n<h3>$1</h3>")).replace(/\n---\n/g,"")).replace(/\\\*/g,"*")).replace(/\\_/g,"_")}var f=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(i.a)(this,Object(p.a)(t).call(this,e))).state={},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){if(this.props.children.data.score){var e=this.props.children.data.body;return this.props.break?(e.length>50&&(e=e.substr(0,50)+"..."),s.a.createElement("p",{className:"comment"},e)):s.a.createElement("p",{className:"comment"},s.a.createElement("span",{className:"score"},this.props.children.data.score)," - ",s.a.createElement("span",{className:"author"},this.props.children.data.author)," - ",s.a.createElement(b,null,e))}return null}}]),t}(s.a.Component),v=(n(20),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(i.a)(this,Object(p.a)(t).call(this,e))).state={collapsed:!1},n.toggle=n.toggle.bind(Object(h.a)(n)),n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"toggle",value:function(){this.setState({collapsed:!this.state.collapsed})}},{key:"render",value:function(){var e=this;return this.props.comment.data.body?s.a.createElement("div",{className:this.state.collapsed?"commentContainer min":"commentContainer"},s.a.createElement("div",{className:this.state.collapsed?"bullet small":"bullet"},s.a.createElement("div",{onClick:this.toggle,className:"easyClick"})),s.a.createElement(f,{break:this.state.collapsed},this.props.comment),this.props.comment.data.replies&&!this.state.collapsed&&this.props.comment.data.replies.data.children.map(function(n,a){return s.a.createElement(t,{comment:n,key:a,depth:e.props.depth+1})})):null}}]),t}(s.a.Component)),j=(n(21),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(i.a)(this,Object(p.a)(t).call(this,e))).state={comments:null,controller:new AbortController,post:n.props.post},n.getComments=n.getComments.bind(Object(h.a)(n)),Array.isArray(n.props.children)?(n.state.post=n.props.children[0].data.children[0],n.state.comments=n.props.children[1]):(n.state.post=n.props.children,n.getComments()),n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"getComments",value:function(){var e=this,t=this.state.controller.signal;fetch(this.props.url+"/comments/"+this.props.children.data.id+".json?sort=top?limit=100",{mode:"cors",signal:t}).then(function(t){t.json().then(function(t){e.setState({comments:t[1]})})}).catch(function(e){})}},{key:"componentWillUnmount",value:function(){this.state.controller.abort()}},{key:"render",value:function(){if("dummy"===this.state.post)return s.a.createElement("div",{className:"dummy post"});var e=this.state.post.data.post_hint,t="image"===e||"self"===e||"link"===e||!e;return s.a.createElement("div",{className:"post"},s.a.createElement("h3",null,s.a.createElement(b,null,this.state.post.data.title)),s.a.createElement("h4",{className:"subtitle"},this.state.post.data.subreddit_name_prefixed," - u/",this.state.post.data.author),"image"===e&&s.a.createElement("img",{src:this.state.post.data.url,width:"400px",alt:""}),("self"===e||!e)&&s.a.createElement("p",null,s.a.createElement(b,null,this.state.post.data.selftext)),"link"===e&&s.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:this.state.post.data.url},this.state.post.data.title),!t&&s.a.createElement("p",null,'The format "',e,'" cannot be displayed right now.'),this.state.comments&&this.state.comments.data.children.map(function(e,t){return s.a.createElement(v,{comment:e,key:t,depth:0})}))}}]),t}(s.a.Component)),O=function(){return s.a.createElement("div",{className:"post"})},E=n(9),S=(n(22),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(i.a)(this,Object(p.a)(t).call(this,e))).state={text:""},n.handleChange=n.handleChange.bind(Object(h.a)(n)),n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){this.props.onSubChange(e.target.value),this.setState(Object(E.a)({},e.target.id,e.target.value))}},{key:"render",value:function(){return s.a.createElement("div",{id:"subChooser"},s.a.createElement("input",{onChange:this.handleChange,id:"text",value:this.state.text,placeholder:"Untitled document"}))}}]),t}(s.a.Component)),y=(n(23),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(i.a)(this,Object(p.a)(t).call(this,e))).state={shown:!window.localStorage.getItem("neverShowAgain")},n.collapse=n.collapse.bind(Object(h.a)(n)),n.neverShowAgain=n.neverShowAgain.bind(Object(h.a)(n)),n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"collapse",value:function(){this.setState({shown:!1})}},{key:"neverShowAgain",value:function(){window.localStorage.setItem("neverShowAgain",!0),this.setState({shown:!1})}},{key:"componentWillReceiveProps",value:function(e){!1===e.show&&this.setState({shown:!1})}},{key:"render",value:function(){return this.state.shown?s.a.createElement("div",{id:"firstTimeMessage"},s.a.createElement("h3",null,"First Time?"),s.a.createElement("p",null,"Click the docs logo to open the post list. In the document naming input box, type the name of a sub, and it will be loaded when you close and reopen the post list.",s.a.createElement("br",null),s.a.createElement("button",{onClick:this.collapse},"Close"),s.a.createElement("button",{onClick:this.neverShowAgain},"Never Show Again"))):null}}]),t}(s.a.Component)),w=(n(24),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(i.a)(this,Object(p.a)(t).call(this,e))).state={posts:[],sub:"all",neverUsed:!0},n.props.post&&fetch(n.props.url+"/comments/"+n.props.post+".json?sort=top",{mode:"cors"}).then(function(e){e.json().then(function(e){n.setState({post:e,neverUsed:!1})})}),n.props.sub&&(n.state.sub=n.props.sub),n.selectPost=n.selectPost.bind(Object(h.a)(n)),n.handleSubUpdate=n.handleSubUpdate.bind(Object(h.a)(n)),n.handlePreviewOpen=n.handlePreviewOpen.bind(Object(h.a)(n)),n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"selectPost",value:function(e){var t=this;this.setState({post:!1,neverUsed:!1}),setTimeout(function(){t.setState({post:e})},100)}},{key:"handleSubUpdate",value:function(e){this.setState({neverUsed:!1}),""!==e?this.setState({sub:e}):this.setState({sub:"all"})}},{key:"handlePreviewOpen",value:function(){this.setState({neverUsed:!1})}},{key:"render",value:function(){return s.a.createElement("div",{id:"main"},s.a.createElement(y,{show:this.state.neverUsed}),s.a.createElement(S,{onSubChange:this.handleSubUpdate,url:this.props.url}),s.a.createElement("div",{id:"post-list"},s.a.createElement(m,{onPostSelect:this.selectPost,selectedPost:this.state.post,sub:this.state.sub,onOpen:this.handlePreviewOpen,url:this.props.url})),s.a.createElement("div",{id:"post-container"},this.state.post?s.a.createElement(j,{url:this.props.url},this.state.post):s.a.createElement(O,null)))}}]),t}(s.a.Component)),k=new URLSearchParams(window.location.search),C=k.get("post"),P=k.get("sub"),_=k.get("proxy");C?r.a.render(s.a.createElement(w,{post:C,url:_}),document.getElementById("root")):P?r.a.render(s.a.createElement(w,{sub:P,url:_}),document.getElementById("root")):r.a.render(s.a.createElement(w,{url:_}),document.getElementById("root"))}],[[10,1,2]]]);
//# sourceMappingURL=main.22ac4096.chunk.js.map